
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lab Week 3 &#8212; EOSC211 - Computer Methods for Earth, Ocean, and Atmospheric Scientists</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.e8f53015daec13862f6db5e763c41738.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Week 3 quiz" href="../../wk03/week3_quiz.html" />
    <link rel="prev" title="Data Structures II" href="../../wk03/data_structures_ii.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      
      <h1 class="site-logo" id="site-title">EOSC211 - Computer Methods for Earth, Ocean, and Atmospheric Scientists</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../announcements.html">
   Course Home/Announcements
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 1 - Introduction
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../syllabus/syllabus.html">
   Course Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../syllabus/covid_statements.html">
   Covid Safety in the Classroom
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../syllabus/schedule_F2021.html">
   Course Schedule - Fall Semester 2021
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../syllabus/worksheet_steps_in_problem_solving.html">
   Steps In Problem Solving
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 2 - Data Types
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../wk02/data_types.html">
   Data Types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../wk02/some_review_plus_built_in_functions_arrays_preview.html">
   Some Review Plus Built-In Functions, Arrays Preview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../wk02/lab_wk2/lab_wk2.html">
   Lab Week 2 - Jupyterhub Tutorial
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 3 - Data Structures
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../wk03/data_structures.html">
   Data Structures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../wk03/data_structures_ii.html">
   Data Structures II
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Lab Week 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../wk03/week3_quiz.html">
   Week 3 quiz
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Week 4 - Scientific Figures
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../wk04/making_plots.html">
   Making Plots Worksheet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../week4_lab/lab_wk4.html">
   Lab Week 4
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="../../_sources/outbound/week3_lab/lab_wk3.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download notebook file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/outbound/week3_lab/lab_wk3.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/phaustin/eosc211_studentsnew/e211_live_main?urlpath=tree/outbound/week3_lab/lab_wk3.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        <a class="jupyterhub-button" href="https://eosc211.jupyterhub.eoas.ubc.ca/jupyter//hub/user-redirect/git-pull?repo=https://github.com/phaustin/eosc211_studentsnew&urlpath=tree/eosc211_studentsnew/outbound/week3_lab/lab_wk3.md&branch=e211_live_main"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#eosc-211">
   EOSC 211
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#learning-objectives">
     Learning Objectives:
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#intro">
     Intro
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#section-1-plot-west-coast-bathymetry-data">
   Section 1: Plot West Coast Bathymetry Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#import-packages">
     1) Import Packages
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#import-raw-data">
     2) Import Raw Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#process-the-data">
     Process The Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#display-the-results">
     Display the Results
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#section-2-mapping-chlorophyl-in-the-ocean">
   Section 2: Mapping Chlorophyl in the Ocean
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#to-be-handed-in">
     To be handed in:
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="lab-week-3">
<h1>Lab Week 3<a class="headerlink" href="#lab-week-3" title="Permalink to this headline">¶</a></h1>
<div class="section" id="eosc-211">
<h2>EOSC 211<a class="headerlink" href="#eosc-211" title="Permalink to this headline">¶</a></h2>
<div class="section" id="learning-objectives">
<h3>Learning Objectives:<a class="headerlink" href="#learning-objectives" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>Take a real world problem in EOAS and think of it like a scientific programmer</p></li>
<li><p>Apply our knowledge of <em>Python</em> data types, indexing, slicing arrays</p></li>
<li><p>Use built in functions and imported packages</p></li>
<li><p>Generate a scientific figure with Matplotlib</p></li>
<li><p>Reverse-engineer someone else’s code to make it work for you</p></li>
</ol>
</div>
<div class="section" id="intro">
<h3>Intro<a class="headerlink" href="#intro" title="Permalink to this headline">¶</a></h3>
<p>In this lab we will apply our knowledge of <em>numpy arrays</em> to work with some real oceanographic data, as well as  generate a <em>scientific figure</em> using Python’s <em>Matplotlib</em> library. Presenting your data with clear, concise, visually appealing figures is an exercise we will continually re-visit in this course, and will prove to be a useful skill throughout your career in EOAS. Below is a handy guide for creating excellent figures.</p>
<div class="alert alert-block alert-info">
<b>Scientific Figure Checklist:</b> 
<ul class="simple">
<li><p>[ ] Title (Short and sweet is best)</p></li>
<li><p>[ ] Axes labels with units (Don’t forget the units!)</p></li>
<li><p>[ ] Legend (Or anything that helps interpret the information presented)</p></li>
<li><p>[ ] Does the figure <em>make sense</em> just by looking at it? The data should be clear without referencing anything outside the figure</p></li>
<li><p>[ ] Does it <em>look good</em>? (Do the colors clash? does it look crowded/messy?)</p></li>
</ul>
</div>
<p>This lab is comprised of two sections: <strong>1)</strong> a tutorial for processing data with Python, Jupyter Notebooks, and creating a scientific figure with Matplotlib, and <strong>2)</strong> a set of instructions for creating your own figure which you will hand in. It is highly recommended that you work through the tutorial <strong>before</strong> attempting the assignment, as it covers a few concepts we have not specifically addressed in lecture yet, and which are essential for earning full marks on the lab assignment.</p>
</div>
</div>
<div class="section" id="section-1-plot-west-coast-bathymetry-data">
<h2>Section 1: Plot West Coast Bathymetry Data<a class="headerlink" href="#section-1-plot-west-coast-bathymetry-data" title="Permalink to this headline">¶</a></h2>
<p>In this tutorial, we will import a dataset as a <em>numpy</em> array and plot it using <em>matplotlib.</em> To keep things neat and organized, we will break the process down into the following steps:</p>
<ol class="simple">
<li><p>Import required packages</p></li>
<li><p>Import raw data</p></li>
<li><p>Process the data</p></li>
<li><p>Display our results</p></li>
</ol>
<div class="section" id="import-packages">
<h3>1) Import Packages<a class="headerlink" href="#import-packages" title="Permalink to this headline">¶</a></h3>
<p>It’s good practice to import all the packages you’ll need (on top of Python’s core <em>built-in functions</em>) in a cell near the top of your notebook. So far we know we will be dealing with <em>numpy arrays</em> and making plots, so lets import Numpy and Matplotlib. There are a few different syntaxes for importing packages, demonstrated below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">e211_lib</span> <span class="kn">import</span> <span class="n">e211</span> <span class="c1"># get all the packages from the e211 library (developed specifically for this course)</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> <span class="c1"># get all the packages associated with numpy, and assign numpy a nickname &#39;np&#39;</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> <span class="c1"># get just the package called &#39;pyplot&#39; from the matplotlib library, nicknamed &#39;plt&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>These are all the dependencies we will need to complete this lab. If we decide later that we want to use something else, we can always add to this cell and re-run it.</p>
</div>
<div class="section" id="import-raw-data">
<h3>2) Import Raw Data<a class="headerlink" href="#import-raw-data" title="Permalink to this headline">¶</a></h3>
<p>The data we wish to analyze is <code class="docutils literal notranslate"><span class="pre">Bathyfile.mat</span></code>. <em>Bathymetry</em> refers to information about the depth of the ocean and the height of landmasses. The next thing to notice is that the file ends with <code class="docutils literal notranslate"><span class="pre">.mat</span></code>, which is the file extension used with data generated by MATLAB. To read this file into a jupyter notebook, we can use the built-in function <code class="docutils literal notranslate"><span class="pre">e211.load_mat()</span></code>. This function reads a <code class="docutils literal notranslate"><span class="pre">.mat</span></code> file and converts it into a numpy array. Similar functions exist for other data types like <code class="docutils literal notranslate"><span class="pre">.csv</span></code> (often used for spreadsheets), <code class="docutils literal notranslate"><span class="pre">.png</span></code> for images, <code class="docutils literal notranslate"><span class="pre">netCDF</span></code> files (outputs of climate models), <code class="docutils literal notranslate"><span class="pre">.shp/.shx/.dbf</span></code> (used for geographical information systems for programs like arcGIS).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_bathdata</span> <span class="o">=</span> <span class="n">e211</span><span class="o">.</span><span class="n">load_mat</span><span class="p">(</span><span class="s2">&quot;Bathyfile.mat&quot;</span><span class="p">)</span>

<span class="c1"># what is the data type of the new variable we just created?</span>
<span class="nb">type</span><span class="p">(</span><span class="n">raw_bathdata</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>numpy.ndarray
</pre></div>
</div>
</div>
</div>
<p>Now that we have the data in a format we can use, let’s explore! We can use built in functions to find out more things than just the data type:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">raw_bathdata</span><span class="p">)</span>  <span class="c1"># how big is the array?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(391, 1201)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">raw_bathdata</span><span class="p">)</span>  <span class="c1"># what is the deepest point? (units are in m above/below sea level)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-5243
</pre></div>
</div>
</div>
</div>
<p>Let’s make a “quick and dirty” plot as a preliminary way to visualize our data (especially since we changed the format, it is a good idea to check if anything went awry). This is just a quick check, we will worry about making it into a proper scientific figure later on. Since this is a 2D dataset (look at the cell where we found <em>np.shape</em> of the data), we can use the <code class="docutils literal notranslate"><span class="pre">contourf()</span></code> function from matplotlib.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">raw_bathdata</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/lab_wk3_9_0.png" src="../../_images/lab_wk3_9_0.png" />
</div>
</div>
<p>We have successfully imported the .mat data as an array, but something is clearly wrong. This is supposed to be geographical information of BC and the Pacific Ocean. Can you recognize Vancouver Island? the Gulf of Alaska? The Rocky Mountains? What has happened here and how might we fix it?</p>
</div>
<div class="section" id="process-the-data">
<h3>Process The Data<a class="headerlink" href="#process-the-data" title="Permalink to this headline">¶</a></h3>
<p>This step is also commonly referred to as “data scrubbing,” and is often the longest step (about 80% of our time, according to <a class="reference external" href="https://www.datascienceatthecommandline.com/1e/chapter-1-introduction.html">a source</a>) while working with a dataset. At this stage we can change the format, get rid of erroneous or extraneous data, combine/compare datasets, add labels to things, but it is important not to <em>alter</em> our data in a way that will compromise its <em>integrity</em>, which might lead us to make false conclusions from our information.</p>
<p>First we need to flip our array over. We can do this using our knowledge of array slicing! Remember, the syntax for accessing elements in an array is <code class="docutils literal notranslate"><span class="pre">[start:stop:step]</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bathdata_fixed</span> <span class="o">=</span> <span class="n">raw_bathdata</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="c1"># flip the array over and assign it to a new variable</span>
<span class="n">plt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">bathdata_fixed</span><span class="p">);</span> <span class="c1"># try another quick visualization</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/lab_wk3_11_0.png" src="../../_images/lab_wk3_11_0.png" />
</div>
</div>
<p>Much better! Now let’s think about generating a way to label our X and Y axes with something meaningful. Currently, the labels refer to the <em>array index</em> of each point on our plot. A far more useful reference would be the latitude (on the y axis) and longitude (on the x axis). This particular image is from latitude 47<span class="math notranslate nohighlight">\(^o\)</span> to 60<span class="math notranslate nohighlight">\(^o\)</span> N and longitude -150<span class="math notranslate nohighlight">\(^o\)</span> to -110 <span class="math notranslate nohighlight">\(^o\)</span>E. The following code generates arrays that with the lat and lon of each row and column in the image, then passes those into the <code class="docutils literal notranslate"><span class="pre">contourf</span></code> function, which then creates the plot with the new labels applied. Take a second to understand what is happening at each line of code. You may want to try running in a cell <code class="docutils literal notranslate"><span class="pre">help()</span></code> with the name of a built-in function for more information on how that function works.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">latlen</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">bathdata_fixed</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># assign the height and width of the image to new vars</span>
<span class="n">lonlen</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">bathdata_fixed</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">lats</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">47</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="n">latlen</span><span class="p">)</span> <span class="c1"># create arrays for lat and lon</span>
<span class="n">lons</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">150</span><span class="p">,</span> <span class="o">-</span><span class="mi">110</span><span class="p">,</span> <span class="n">lonlen</span><span class="p">)</span>

<span class="c1"># plot it again!</span>
<span class="n">plt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">lons</span><span class="p">,</span> <span class="n">lats</span><span class="p">,</span> <span class="n">bathdata_fixed</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/lab_wk3_13_0.png" src="../../_images/lab_wk3_13_0.png" />
</div>
</div>
<p>Maybe we are only interested in the bathymetry near Vancouver Island. We can “zoom” in on a particular area, using slicing to select a section of the original array. <strong>IMPORTANT:</strong> We need to slice the <code class="docutils literal notranslate"><span class="pre">lats</span></code> and <code class="docutils literal notranslate"><span class="pre">lons</span></code> arrays at the same intervals <em>before</em> we try to re-create the plot, or else we will get an error.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bath_zoomed</span> <span class="o">=</span> <span class="n">bathdata_fixed</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">150</span><span class="p">,</span><span class="mi">500</span><span class="p">:</span><span class="mi">900</span><span class="p">]</span>
<span class="n">lats_zoomed</span> <span class="o">=</span> <span class="n">lats</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">150</span><span class="p">]</span>
<span class="n">lons_zoomed</span> <span class="o">=</span> <span class="n">lons</span><span class="p">[</span><span class="mi">500</span><span class="p">:</span><span class="mi">900</span><span class="p">]</span> <span class="c1"># make sure the slices match between the</span>
                            <span class="c1"># coordinates and the original data</span>

<span class="n">plt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">lons_zoomed</span><span class="p">,</span> <span class="n">lats_zoomed</span><span class="p">,</span> <span class="n">bath_zoomed</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/lab_wk3_15_0.png" src="../../_images/lab_wk3_15_0.png" />
</div>
</div>
</div>
<div class="section" id="display-the-results">
<h3>Display the Results<a class="headerlink" href="#display-the-results" title="Permalink to this headline">¶</a></h3>
<p>If we are satisfied with our data processing, it is now time to present our result with a scientific figure. Go through the checklist and add code to our plot until we tick all of the boxes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># change the colormap to something suitable</span>
<span class="n">con</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">lons_zoomed</span><span class="p">,</span> <span class="n">lats_zoomed</span><span class="p">,</span> <span class="n">bath_zoomed</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;terrain&quot;</span><span class="p">)</span>

<span class="c1"># add nice labels</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Bathymetry Near Vancouver Island&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;longitude (deg)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;latitude (deg)&quot;</span><span class="p">)</span>

<span class="c1"># create a colorbar with labels to show the numerical values corresponding to each color</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">con</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Height Above/Below Sea Level (m)&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/lab_wk3_17_0.png" src="../../_images/lab_wk3_17_0.png" />
</div>
</div>
<p>Go through our checklist:</p>
<ul class="simple">
<li><p>[x] Title</p></li>
<li><p>[x] Axes labels with units</p></li>
<li><p>[x] Legend - yes, the colorbar is similar to a legend, and we included units!</p></li>
<li><p>[x] Does the figure <em>make sense</em> just by looking at it? - look at the colormap we chose: dark blue maps to deep ocean, white for snowy mountains. this makes the figure <em>visually intuitive</em></p></li>
<li><p>[x] Does it <em>look good</em>? - beauty is in the eye of the beholder, but I think it looks great</p></li>
</ul>
<p>For changing the colormap, check out the <a class="reference external" href="https://matplotlib.org/stable/gallery/color/colormap_reference.html">Matplotlib Documentation</a> for a list to choose from. Try inserting the names of other colormaps in place of “terrain” and see what happens. Note you can add “_r” to the end of any of colormap name to reverse it.</p>
<p>Finally, as a last step, restart the kernel and re-run the whole notebook to check for errors (click the <span class="math notranslate nohighlight">\(\blacktriangleright\blacktriangleright\)</span> button on the toolbar). This is important, so that the next time you run your notebook (or someone else, perhaps the person marking it), you know you will get the same result that you have now.</p>
</div>
</div>
<div class="section" id="section-2-mapping-chlorophyl-in-the-ocean">
<h2>Section 2: Mapping Chlorophyl in the Ocean<a class="headerlink" href="#section-2-mapping-chlorophyl-in-the-ocean" title="Permalink to this headline">¶</a></h2>
<p>In the <code class="docutils literal notranslate"><span class="pre">/lab_week3</span></code> folder, there is a dataset called <code class="docutils literal notranslate"><span class="pre">chlorophyl_apr2021.png</span></code>, which shows the concentration of chlorophyll (mg/m<span class="math notranslate nohighlight">\(^3\)</span>) in the ocean from satellite imagery, averaged over the month of April in 2021. The data originally came from
NASA’s Earth Observing System Data and Information System (EOSDIS), which can be found at <a class="reference external" href="https://oceancolor.gsfc.nasa.gov/">this website</a>.
Your task is to go through much the same analysis as we did in the tutorial: import data into a Jupyter Notebook, scrub it, and use it to generate a scientific figure.</p>
<div class="section" id="to-be-handed-in">
<h3>To be handed in:<a class="headerlink" href="#to-be-handed-in" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>If you haven’t already, open this notebook on Jupyterhub (press the rocketship button). Make sure to periodically save your work on and <em>back it up in at least two places</em> (your computer, google drive, dropbox, as well as jupyterhub)</p></li>
<li><p>Import the dataset as a numpy array. In the <code class="docutils literal notranslate"><span class="pre">e211</span></code> library, there is a function called <code class="docutils literal notranslate"><span class="pre">e211.load_oceancolor()</span></code> which will likely prove useful.</p></li>
<li><p>Scrub your dataset, correcting any errors and adding an appropriate coordinate system. (<strong>Note</strong>: on the whole globe, latitude runs from 90<span class="math notranslate nohighlight">\(^o\)</span> (north pole) to -90 (south pole) with 0<span class="math notranslate nohighlight">\(^o\)</span> at the equator and longitude from -180<span class="math notranslate nohighlight">\(^o\)</span> to 180<span class="math notranslate nohighlight">\(^o\)</span> with the 0<span class="math notranslate nohighlight">\(^o\)</span> meridian passing through Greenwich, UK)</p></li>
<li><p>Zoom in on some place of interest. Where you go is totally up to you, but try to include a recognizable land feature in your plot.</p></li>
<li><p>Present your data, making sure to meet all the requirements for a scientific figure. Use a colormap other than the default.</p></li>
<li><p>Final check: run your whole notebook again and check for errors using the <span class="math notranslate nohighlight">\(\blacktriangleright\blacktriangleright\)</span> button.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># your code here (create as many additional cells as you like)</span>

<span class="c1"># YOUR CODE HERE</span>
<span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NotImplementedError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ipykernel_2248781</span><span class="o">/</span><span class="mf">3278646782.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> 
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1"># YOUR CODE HERE</span>
<span class="ne">----&gt; </span><span class="mi">4</span> <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

<span class="ne">NotImplementedError</span>: 
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./outbound/week3_lab"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="../../wk03/data_structures_ii.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Data Structures II</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="../../wk03/week3_quiz.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Week 3 quiz</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By UBC<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>